{% extends "layout.html" %}
{% load i18n %}

{% block content %}
    <h1 class="my-4">{% translate "Tasks" %}</h1>
    <a class="btn btn-primary mb-3" href="{% url 'tasks_create' %}">{% translate "Create task" %}</a>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>{% translate "Name" %}</th>
                <th>{% translate "Status" %}</th>
                <th>{% translate "Creator" %}</th>
                <th>{% translate "Performer" %}</th>
                <th>{% translate "Created at" %}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
                <tr>
                    <td>{{ task.id }}</td>
                    <td>{{ task.name }}</td>
                    <td>{{ task.status }}</td>
                    <td>{{ task.creator }}</td>
                    <td>{% if task.performer %}{{ task.performer }}{% else %}{% endif %}</td>
                    <td>{{ task.created_at|date:'d.m.Y H:i' }}</td>
                    <td>
                        <a href="{% url 'tasks_update' pk=task.id %}">{% translate "Edit" %}</a>
                        <br>
                        <a href="{% url 'tasks_delete' pk=task.id %}">{% translate "Delete" %}</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}